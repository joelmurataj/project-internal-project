<div class="alert alert-warning" *ngIf='projectNotFound'><i class="material-icons">
    warning
  </i> {{projectNotFound}}</div>
<div *ngIf='!projectNotFound'>
  <h1>Project</h1>
  <br><br>
  <b>Title </b>: {{project?.name}}
  <br><br>
  <b>Start Date </b> : {{project?.startDate | date:'yyyy-MM-dd'}}
  <br><br>
  <b>Finished Date </b> : {{project?.finishedDate | date:'yyyy-MM-dd'}}
  <br><br>
  <b> Project Detail </b> : {{project?.projectDetail}}
  <br><br>
  <b> Max Of Employees </b> : {{project?.maxOfEmployee}}
  <br><br>
  <b> Vacancy </b> : {{project?.vacancy}}
  <br><br>
  <b> Status</b> : {{project?.statusName}}
  <br><br>
  <b> Technologies</b> : {{project?.technologiesInString}}
  <br><br>
  <h2>Employees Of the project</h2>
  <div class="alert alert-warning" *ngIf='messageProblem'><i class="material-icons">
      warning
    </i> {{messageProblem}}</div>
  <button (click)="filter()" mat-button color="primary"><i class="material-icons md-24">
      list
    </i></button>
    <button mat-button (click)="opendialogAddEmployeeToProject()" mat-fab color="primary" style="left:950px"><i class="material-icons">
        add
      </i></button>
      <br><br>
  <div class="container">
    <div *ngIf='!tableIsEmpty'>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">


        <ng-container matColumnDef="firstName">
          <th mat-header-cell *matHeaderCellDef> Firstname </th>
          <td mat-cell *matCellDef="let user"> {{user.firstName}} </td>
        </ng-container>


        <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef> Lastname: </th>
          <td mat-cell *matCellDef="let user"> {{user.lastName}} </td>

        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef> Email: </th>
          <td mat-cell *matCellDef="let user"> {{user.email}} </td>
        </ng-container>

        <ng-container matColumnDef="Start date in the project">
          <th mat-header-cell *matHeaderCellDef> Start date: </th>
          <td mat-cell *matCellDef="let user"> {{user.startDateInProject | date:'yyyy-MM-dd'}} </td>
        </ng-container>

        <ng-container matColumnDef="Finish date in the project">
          <th mat-header-cell *matHeaderCellDef> Finish date: </th>
          <td mat-cell *matCellDef="let user"> {{user.finishedDateInProject | date:'yyyy-MM-dd'}} </td>
        </ng-container>

        <ng-container matColumnDef="rank">
          <th mat-header-cell *matHeaderCellDef> Rank: </th>
          <td mat-cell *matCellDef="let user"> {{user.rankName}} </td>
        </ng-container>

        <ng-container matColumnDef="allocation">
          <th mat-header-cell *matHeaderCellDef> Allocation: </th>
          <td mat-cell *matCellDef="let user"> {{user.allocation}} %</td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Actions </th>
          <td mat-cell *matCellDef="let user">
            <button (click)="opendialogUpdateDateOfEmployee(user)" mat-button color="primary"><i
                class="material-icons md-24">
                edit
              </i></button>
            <button (click)="removeEmployeeFromTheProject(user.id)" mat-button color="warn"><i
                class="material-icons md-18">
                remove_circle
              </i></button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


      </table>

      <mat-paginator [pageSizeOptions]="[5]" showFirstLastButtons></mat-paginator>
    </div>
    <div *ngIf='tableIsEmpty'>No employees were found</div>
    <!-- <button mat-button (click)="opendialogAddEmployeeToProject()" mat-fab color="primary"><i class="material-icons">
        add
      </i></button> -->

  </div>
</div>